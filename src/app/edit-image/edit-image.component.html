<div class="container my-5">
  <h1 class="d-flex justify-content-center">OpenAI Edit / DALL-E APIs demo</h1>
  <hr/>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <h3>Request prompt</h3>
        <hr/>
        <textarea
          rows="10"
          placeholder="Enter your prompt here"
          class="form-control"
          cols="6"
          [(ngModel)]="promptText"
        ></textarea>
      </div>
      <div>
        <br/>
        <button
          style="margin-right: 2rem; width: 12rem"
          class="btn btn-primary"
          (click)="callOpenAIAPIMethod(true)"
          [disabled]="showSpinner"
        >
          <span style="padding-right: 0.5rem"> Fix text </span>
          <i class="fa-solid fa-file-lines"></i>
        </button>
        <button style="width: 12rem" class="btn btn-primary" (click)="callOpenAIAPIMethod(false)" [disabled]="showSpinner">
          <span style="padding-right: 0.5rem">Generate image</span>
          <i class="fa-solid fa-image"></i>
        </button>
      </div>
    </div>
    <div class="col-md-6">
      <h3>Response from the API</h3>
      <hr/>
      <div *ngIf="showSpinner">
        <h4>Processing, please wait...</h4>
        <div class="d-flex justify-content-center mt-5">
          <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </div>
      <ng-container *ngIf="imageUrl; else showText">
        <img [src]="imageUrl" alt="DallE image"/>
      </ng-container>
      <ng-template #showText>
        <p> {{ answer }} </p>
      </ng-template>
    </div>
  </div>
</div>
